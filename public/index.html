<!DOCTYPE html>
<html lang="en" ng-app="angularPro">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Angular Pro</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
    <![endif]-->
    <div class="flexbox-parent" ng-cloak ng-controller="MainController">
      <div layout="row" layout-align="center center">
        <form name="analyzeForm" flex="70">
            <md-input-container class="md-block" >
              <label>分析画像URL</label>
              <input ng-model="image.url" ng-required="required" type="text" name="url" ng-keyup="isEnterPressed($event) && submit()"/>
            </md-input-container>
            <fieldset class="standard">
              <legend>Features</legend>
              <md-input-container class="md-block" >
                <md-checkbox ng-repeat="type in types" ng-checked="isChecked(type)" ng-click="toggleType(type)">
                {{ type }}
                </md-checkbox>
              </md-checkbox>
            </fieldset>
            <md-button class="md-raised md-primary" ng-click="submit()">送信</md-button>
            </md-input-container>
        </form>
        <div flex="30">
          <div id="drop-placheholder" ple-drop>
            画像はここにドロップ
          </div>
        </div>
      </div>
      <div layout="column" layout-align="center center">
        <div flex ng-if="processing">
          <md-progress-circular md-mode="indeterminate"></md-progress-circular>
        </div>
      </div>
      <div layout="row" layout-align="center center" layout-wrap>
        <div flex="33" ng-repeat="item in data" >
          <md-card>
            <img ng-src="{{ item.url }}" class="md-card-image">
            <md-tabs md-align-tabs="bottom" md-dynamic-height="true" md-border-bottom="false" md-center-tabs="true">
              <md-tab ng-repeat="feature in item.features" label="{{feature.name}}">
                <div>
                  <md-chips ng-model="feature.labels" md-removable="false" readonly="true">
                    <md-chip-template>
                      {{ $chip.description }} <span ng-if="$chip.score > 0">- {{ $chip.score | number : 2 }}</span> {{ $chip.likelihood }}
                    </md-chip-template>
                  </md-chips>
                </div>
              </md-tab>
            </md-tabs>
          </md-card>
        </div>
      </div>
    </div>
    <script src="vendor.js"></script>
    <script src="app.js"></script>
  </body>
</html>